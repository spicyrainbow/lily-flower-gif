<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
<script>
  /* global nn */

  const GIF = 'lily-flower-white.gif'
  const COLOR = 'PAPAYAWHIP'
  
  async function createGif (x, y) {
    const gif = await nn.loadImage(GIF)
    nn.create('img')
      .set({  src: `${GIF}#${Math.random()}` 
      })
      .css({
        position: 'absolute',
        left: x - gif.width / 2,
        top: y - gif.height / 2 
        
      })
      .addTo('body')
  }
  
  async function setup () {
    nn.get('body').css({ backgroundColor: COLOR })
                       
    
    const gif = await nn.loadImage(GIF)
    const num = 800
    for (let i = 0; i < num; i++) {
      const cx = nn.width / 2
      const cy = nn.height / 2
      const r = 250
      const s = 0.5
      const y = cy + Math.sin(i*0.5) * 100
      const x = cx + Math.cos(i*0.25) * 300
      createGif (x, y)
    }
  }
      
  //   const cellWidth = gif.width / 4
  //   const cellHeight = gif.height / 4
  //   const numColumns = nn.width / cellWidth
  //   const numRows = (nn.height / cellHeight) * 0.75
    
  //   for (let r = 0; r < numRows; r++) {
  //     for (let c = 0; c < numColumns; c++) {
  //       const x = c * c  
  //       const y = r * cellHeight
  //       createGif(x, y, gif.width, gif.height, GIF)
  //     }
  //   }
  // }
  
  nn.on('load', setup)
  
</script>